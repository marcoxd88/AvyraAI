<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  <title>Register - Avyra AI</title>
Â  <link rel="stylesheet" href="style.css" />
</head>
<body class="auth-page">

Â  <div class="auth-card glass-card">
Â  Â  <div class="auth-logo-container">
Â  Â  Â  <img src="https://ik.imagekit.io/ryh8eunbca/Avyra%20AI.png?updatedAt=1756443329347" alt="Test Logo" class="auth-logo" />
Â  Â  </div>
Â  Â  <h2 class="auth-title">Create Account</h2>
Â  Â  <p class="auth-subtext">Join Avyra AI and start chatting</p>

Â  Â  <div id="error" class="error-msg"></div>

Â  Â  <form class="auth-form" onsubmit="event.preventDefault(); register();">
Â  Â  Â  <input id="username-register" placeholder="Username" minlength="3" required autocomplete="username" />
Â  Â  Â  <input id="email-register" type="email" placeholder="Email" required autocomplete="email" />
Â  Â  Â  <input id="phone-register" placeholder="Phone (optional)" autocomplete="tel" />
Â  Â  Â  <div class="password-field">
Â  Â  Â  Â  <input id="password-register" type="password" placeholder="Password" minlength="8" required autocomplete="new-password" />
Â  Â  Â  Â  <span id="toggle-pass-register" class="toggle-pass">ğŸ‘</span>
Â  Â  Â  </div>
Â  Â  Â  <button type="submit" class="btn-primary btn-full">Sign Up</button>
Â  Â  </form>

Â  Â  <div class="auth-switch">
Â  Â  Â  Already have an account? <a href="login.html" class="link-primary">Log in</a>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  document.getElementById("toggle-pass-register").onclick = () => {
Â  Â  Â  let p = document.getElementById("password-register");
Â  Â  Â  p.type = p.type === "password" ? "text" : "password";
Â  Â  };
Â  Â  async function register() {
Â  Â  Â  const errorBox = document.getElementById("error");
Â  Â  Â  errorBox.innerText = "";
Â  Â  Â  let u = document.getElementById("username-register").value.trim();
Â  Â  Â  let e = document.getElementById("email-register").value.trim();
Â  Â  Â  let ph = document.getElementById("phone-register").value.trim();
Â  Â  Â  let p = document.getElementById("password-register").value.trim();
Â  Â  Â  if (u.length < 3) { errorBox.innerHTML = "âš ï¸ Username must be at least 3 characters"; return; }
Â  Â  Â  if (!e) { errorBox.innerHTML = "âš ï¸ Email is required"; return; }
Â  Â  Â  if (p.length < 8) { errorBox.innerHTML = "âš ï¸ Password must be at least 8 characters"; return; }
Â  Â  Â  const btn = document.querySelector(".auth-form button");
Â  Â  Â  btn.disabled = true; btn.innerText = "Registering...";
Â  Â  Â  try {
Â  Â  Â  Â  const res = await fetch("/register", {
Â  Â  Â  Â  Â  method: "POST",
Â  Â  Â  Â  Â  headers: { "Content-Type": "application/json" },
Â  Â  Â  Â  Â  body: JSON.stringify({ username: u, email: e, phone: ph, password: p })
Â  Â  Â  Â  });
Â  Â  Â  Â  const data = await res.json();
Â  Â  Â  Â  if (data.success) location = "login.html";
Â  Â  Â  Â  else errorBox.innerHTML = `âš ï¸ ${data.error || "Registration failed"}`;
Â  Â  Â  } catch {
Â  Â  Â  Â  errorBox.innerHTML = "âš ï¸ Network error. Please try again.";
Â  Â  Â  }
Â  Â  Â  btn.disabled = false;
Â  Â  Â  btn.innerText = "Sign Up";
Â  Â  }
Â  </script>
</body>
</html>
